"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[3365],{2701:(e,s,n)=>{n.r(s),n.d(s,{default:()=>C});var a=n(3696),t=n(5645),r=n(3910),i=n(3310),c=n(2251),l=n(1066),o=n(8479),d=n(2996),m=n(9899),h=n(2308),u=n(7283),x=n(163);class b extends x.C{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}var g=n(4153),j=n(6473),p=n(2540);const f={1:"0x0000000000000000000000000000000000000000",11155111:"0xdd5d36c9cce7893ebfc35c4390511281cab3da85"},N=e=>e in f;function v(...e){return e.filter(Boolean).join(" ")}async function y(e){try{await navigator.clipboard.writeText(e)}catch{const s=document.createElement("textarea");s.value=e,document.body.appendChild(s),s.select(),document.execCommand("copy"),s.remove()}alert("Copied")}function w(e){const{abi:s,address:n,functionName:c,mode:l,label:o,decimals:d}=e,m=(0,a.useMemo)(()=>s.find(e=>"function"===e.type&&e.name===c),[s,c]),h=m&&"inputs"in m?m.inputs:[],[x,g]=(0,a.useState)(()=>h.map(e=>"bool"!==e.type&&""));(0,a.useEffect)(()=>{g(h.map(e=>"bool"!==e.type&&""))},[c]);const j=(0,a.useMemo)(()=>{try{return h.map((e,s)=>{const n=x[s];if("bool"===e.type)return Boolean(n);if("address"===e.type){if(!(0,u.P)(String(n)))throw new Error(`Invalid address for param #${s+1}`);return n}if(/^u?int(8|16|32|64|128|256)?$/.test(e.type)){const e=String(n).trim();return e?null!=d?function(e,s){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new b({value:e});let[n,a="0"]=e.split(".");const t=n.startsWith("-");if(t&&(n=n.slice(1)),a=a.replace(/(0+)$/,""),0===s)1===Math.round(Number(`.${a}`))&&(n=`${BigInt(n)+1n}`),a="";else if(a.length>s){const[e,t,r]=[a.slice(0,s-1),a.slice(s-1,s),a.slice(s)],i=Math.round(Number(`${t}.${r}`));a=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`,a.length>s&&(a=a.slice(1),n=`${BigInt(n)+1n}`),a=a.slice(0,s)}else a=a.padEnd(s,"0");return BigInt(`${t?"-":""}${n}${a}`)}(e,d):BigInt(e):BigInt(0)}return String(n)})}catch(e){return}},[x,h,d]),{data:f,isFetching:N,error:w,refetch:k}=(0,t.Q)({address:n,abi:s,functionName:c,args:j,query:{enabled:"read"===l&&Boolean(j||0===h.length)}}),{writeContract:C,data:B,isPending:$,error:E,reset:S}=(0,r.x)(),{isLoading:I,isSuccess:T,isError:W,data:M}=(0,i.g)({hash:B,query:{enabled:"write"===l&&Boolean(B)}});return(0,p.jsxs)("div",{className:"card",children:[(0,p.jsx)("div",{className:"card__header",children:(0,p.jsx)("h3",{className:"margin-bottom--none",children:o??c})}),(0,p.jsx)("div",{className:"card__body",children:(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),"read"!==l?j?(S(),C({address:n,abi:s,functionName:c,args:j})):alert("Please fill the inputs correctly."):k()},children:[0===h.length?(0,p.jsx)("div",{className:"margin-bottom--sm",children:(0,p.jsx)("em",{children:"No arguments"})}):h.map((e,s)=>(0,p.jsxs)("div",{className:"margin-bottom--sm",children:[(0,p.jsxs)("label",{className:"label",children:[e.name||`arg${s+1}`," ",(0,p.jsxs)("small",{children:["(",e.type,")"]})]}),"bool"===e.type?(0,p.jsx)("input",{type:"checkbox",className:"checkbox",checked:Boolean(x[s]),onChange:e=>g(n=>n.map((n,a)=>a===s?e.target.checked:n))}):(0,p.jsx)("input",{className:"input",placeholder:e.type.startsWith("uint")||e.type.startsWith("int")?"e.g. 2.5":"address"===e.type?"0x\u2026":"",value:String(x[s]??""),onChange:e=>g(n=>n.map((n,a)=>a===s?e.target.value:n))}),"address"===e.type&&x[s]&&((0,u.P)(String(x[s]))?(0,p.jsx)("small",{className:"text--success",children:"Address looks valid"}):(0,p.jsx)("small",{className:"text--danger",children:"Invalid address"}))]},s)),(0,p.jsx)("button",{className:v("button","write"===l?"button--primary":"button--secondary"),disabled:"write"===l&&$,children:"write"===l?$?"Confirm in wallet\u2026":"Send Transaction":N?"Reading\u2026":"Read"}),"read"===l&&(0,p.jsx)("div",{className:"margin-top--sm",children:w?(0,p.jsxs)("div",{className:"text--danger",children:["Error: ",w?.message||String(w)]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"margin-bottom--xs",children:"Result:"}),(0,p.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:JSON.stringify(f,null,2)})]})}),"write"===l&&(0,p.jsxs)("div",{className:"alert alert--secondary margin-top--sm",role:"alert",children:[B&&(0,p.jsxs)("div",{className:"margin-bottom--xs",children:["Tx hash: ",(0,p.jsx)("code",{style:{wordBreak:"break-all"},children:B})," ",(0,p.jsx)("button",{className:"button button--sm button--secondary",type:"button",onClick:()=>y(B),children:"Copy"})]}),I&&(0,p.jsx)("div",{children:"Waiting for confirmation\u2026"}),T&&(0,p.jsxs)("div",{className:"text--success",children:["Mined in block ",M?.blockNumber?.toString?.()??"\u2014"]}),W&&(0,p.jsx)("div",{className:"text--danger",children:"Tx failed"}),E&&(0,p.jsxs)("div",{className:"text--danger",children:["Error: ",E.message]})]})]})})]})}function k(){const{address:e,status:s}=(0,c.F)(),n=(0,l.i)(),{connect:r,isPending:i}=(0,o.e)(),{disconnect:u}=(0,d.u)(),x=n&&N(n)?f[n]:void 0,{data:b}=(0,t.Q)({address:x,abi:g.xw,functionName:"decimals",query:{enabled:Boolean(x)}}),{data:k}=(0,t.Q)({address:x,abi:g.xw,functionName:"symbol",query:{enabled:Boolean(x)}}),{data:C,refetch:B}=(0,t.Q)({address:x,abi:g.xw,functionName:"balanceOf",args:e?[e]:void 0,query:{enabled:Boolean(x&&e)}}),$=(0,a.useMemo)(()=>null==C||null==b?"\u2014":(0,j.J)(C,b),[C,b]);return(0,a.useEffect)(()=>{},[]),(0,p.jsx)(h.A,{title:"PlayGround",description:"Manage your tokens",children:(0,p.jsx)("div",{className:"container margin-vert--lg",children:(0,p.jsx)("div",{className:"row",children:(0,p.jsx)("div",{className:"col col--12",children:(0,p.jsxs)("div",{className:"card",children:[(0,p.jsxs)("div",{className:"card__header",children:[(0,p.jsx)("h2",{className:"margin-bottom--none",children:"BillsOfExchange \u2014 ERC\u201120 Playground"}),(0,p.jsxs)("p",{className:"margin-bottom--none",children:["Chain: ",(0,p.jsx)("strong",{children:n??"\u2014"})," ",x?(0,p.jsxs)(p.Fragment,{children:["\xb7 Token: ",(0,p.jsx)("code",{children:x})," ",(0,p.jsx)("button",{className:"button button--sm button--secondary",onClick:()=>y(x),children:"Copy"})]}):"\xb7 No token for this chain"]})]}),(0,p.jsxs)("div",{className:"card__body",children:[(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col col--5",children:[(0,p.jsxs)("section",{className:"margin-bottom--lg",children:[(0,p.jsx)("h3",{className:"margin-bottom--sm",children:"Wallet"}),(0,p.jsxs)("p",{className:"margin-bottom--sm",children:["Status: ",(0,p.jsx)("strong",{children:s})]}),e?(0,p.jsxs)("div",{className:"margin-bottom--sm",children:[(0,p.jsxs)("div",{className:"margin-bottom--xs",children:["Address: ",(0,p.jsx)("code",{children:e})," ",(0,p.jsx)("button",{className:"button button--sm button--secondary",onClick:()=>y(e),children:"Copy"})]}),(0,p.jsx)("button",{className:"button button--sm",onClick:()=>u(),children:"Disconnect"})]}):(0,p.jsx)("button",{className:v("button button--primary",i&&"button--disabled"),onClick:function(){r({connector:(0,m.b)()})},disabled:i,children:i?"Connecting\u2026":"Connect / Unlock MetaMask"}),(0,p.jsx)("hr",{}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:["Symbol: ",(0,p.jsx)("strong",{children:k??"\u2014"})]}),(0,p.jsxs)("div",{children:["Decimals: ",(0,p.jsx)("strong",{children:b??"\u2014"})]}),(0,p.jsxs)("div",{className:"margin-top--sm",children:["Your balance: ",(0,p.jsx)("strong",{children:$})," ",k??""]})]})]}),(0,p.jsxs)("section",{children:[(0,p.jsx)("h3",{className:"margin-bottom--sm",children:"Read: balanceOf"}),x&&(0,p.jsx)(w,{abi:g.xw,address:x,functionName:"balanceOf",mode:"read",label:"balanceOf(address)"})]})]}),(0,p.jsx)("div",{className:"col col--7",children:(0,p.jsxs)("section",{children:[(0,p.jsx)("h3",{className:"margin-bottom--sm",children:"Write: transfer"}),x&&(0,p.jsx)(w,{abi:g.xw,address:x,functionName:"transfer",mode:"write",label:"transfer(address to, uint256 amount)",decimals:"number"==typeof b?b:void 0}),(0,p.jsx)("p",{className:"margin-top--sm",children:(0,p.jsxs)("small",{children:["Note: Amount input accepts human units (e.g., 2.5) and will be converted using token ",(0,p.jsx)("code",{children:"decimals"}),"."]})})]})})]}),(0,p.jsx)("hr",{className:"margin-vert--lg"}),(0,p.jsxs)("details",{children:[(0,p.jsx)("summary",{children:"Using CLI\u2011generated hooks instead (example)"}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("p",{children:["If your Wagmi CLI generated hooks like ",(0,p.jsx)("code",{children:"useWriteBillsOfExchangeTransfer"}),", replace the write section with:"]}),(0,p.jsx)("pre",{children:'// import { useWriteBillsOfExchangeTransfer, useWaitForTransactionReceipt } from "@/generated" // \u2190 adjust path\nconst { writeContract: writeBoE, data: txHash, isPending, error, reset } = useWriteBillsOfExchangeTransfer()\n// ...\nreset()\nwriteBoE({ args: [toAddress, amountBigInt] })\n// receipt tracking stays the same with useWaitForTransactionReceipt({ hash: txHash })'}),(0,p.jsxs)("p",{children:["The ",(0,p.jsx)("code",{children:"reset"})," function clears previous mutation state so a subsequent call updates flags like ",(0,p.jsx)("code",{children:"isPending"})," and ",(0,p.jsx)("code",{children:"error"})," from a clean slate."]})]})]})]})]})})})})})}function C(){return(0,p.jsx)(k,{})}}}]);